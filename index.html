<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista Exclusiva - Mini-Spotify</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root{
            --bg-1: #0f0b10;
            --bg-2: #141218;
            --card: rgba(18,16,20,0.7);
            --glass: rgba(255,255,255,0.05);
            --muted: #b9a7bf;
            --accent: #ff7aa2;
            --accent-2: #ff5f8a;
            --shadow-lg: 0 18px 50px rgba(0,0,0,0.6);
            --radius: 14px;
            --maxw: 1200px;
            --transition: 240ms cubic-bezier(.2,.9,.2,1);
        }

        /* BODY OSCURO ELEGANTE */
        html,body{height:1000px;}
        body{
            margin:0;
            font-family: 'Montserrat', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
            -webkit-font-smoothing:antialiased;
            -moz-osx-font-smoothing:grayscale;
            color: #efe8f2;
            background:
                radial-gradient(800px 400px at 10% 10%, rgba(255,120,160,0.04), transparent 12%),
                radial-gradient(600px 300px at 95% 90%, rgba(200,180,210,0.03), transparent 10%),
                linear-gradient(180deg,var(--bg-1),var(--bg-2));
            background-attachment: fixed;
            min-height:100vh;
            display:flex;
            align-items:center; /* centramos verticalmente el contenido principal */
            justify-content:center;
            padding:36px 20px;
            min-height:100vh;
        }

        /* sutil textura encima */
        body::after{
            content:"";
            position:fixed; inset:0; pointer-events:none;
            background-image: radial-gradient(circle at 20% 10%, rgba(255,255,255,0.02), transparent 12%),
                              radial-gradient(circle at 80% 85%, rgba(255,255,255,0.01), transparent 10%);
            mix-blend-mode: overlay;
            opacity:0.9;
            z-index:0;
        }

        .container{
            width:100%;
            max-width:var(--maxw);
            z-index:2;
            display:grid;
            grid-template-columns: 1fr; /* todo en una columna para centrar */
            gap:28px;
            align-items:center;
        }

+        /* fila central que contiene el bot√≥n (izquierda) y la lista (centro) */
+        .center-row{
+            display:flex;
+            gap:28px;
+            justify-content:center; /* centra horizontalmente */
+            align-items:center; /* centra verticalmente (mismo alto que la portada) */
+            width:100%;
+        }
+
+        /* ajustar la lista para que quede centrada y con tama√±o equilibrado */
+        .song-list{
+            max-height:320px; /* un poco m√°s alto para mejor visual */
+            width: min(620px, 72%); /* ancho principal centrado */
+            align-self:center;
+        }
+
+        /* mantener controles a la izquierda del √°rea central, tama√±o fijo */
+        .controls-bar{
+            width: 120px;
+            display:flex;
+            align-items:center;
+            justify-content:center;
+            height:220px;
+        }

        /* CABECERA: portada + texto (m√°s oscuro, transl√∫cido) */
        .playlist-header{
            grid-column:1 / span 2;
            display:flex;
            gap:28px;
            align-items:center;
            background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
            border-radius: calc(var(--radius) + 4px);
            padding:22px;
            box-shadow: var(--shadow-lg);
            border:1px solid rgba(255,255,255,0.03);
            backdrop-filter: blur(10px) saturate(120%);
            margin-top: 50rem;
        }

        .cover-art{
            width:220px;
            height:220px;
            border-radius:12px;
            overflow:hidden;
            position:relative;
            flex:0 0 220px;
            box-shadow: 0 22px 60px rgba(0,0,0,0.6);
            border: 1px solid rgba(255,255,255,0.04);
            background: linear-gradient(135deg,#171217,#241425);
        }
        .cover-art img{ width:100%; height:100%; object-fit:cover; display:block; transform:scale(1.02); transition: transform var(--transition); filter: saturate(0.95) contrast(0.95); }
        .cover-art:hover img{ transform:scale(1.06); }

        .playlist-info{
            display:flex;
            flex-direction:column;
            gap:6px;
            justify-content:center;
        }
        .playlist-info p:first-child{
            font-size:0.78rem;
            letter-spacing:1px;
            color:var(--muted);
            margin:0;
            text-transform:uppercase;
            opacity:0.9;
        }
        .playlist-info h1{
            margin:0;
            font-family: 'Georgia', 'Playfair Display', serif;
            font-weight:700;
            font-size:2.2rem;
            color: #ffdfea;
            line-height:1;
            transform: translateY(-2px);
        }
        .playlist-info .details{
            color:var(--muted);
            opacity:0.95;
            font-size:0.98rem;
        }

        /* LEFT: controles (centrados verticalmente en su columna) */
        .controls-bar{
            display:flex;
            gap:18px;
            align-items:center;
            justify-content:center; /* centrar horizontalmente */
            padding:8px;
            height: 220px; /* empata con la portada/cover-art para equilibrio */
        }

        #main-play-button{
            width:100px;
            height:100px;
            border-radius:999px;
            border:none;
            cursor:pointer;
            background: linear-gradient(180deg,#ff8aa0,#ff5f8a);
            color:white;
            font-size:1.6rem;
            box-shadow: 0 12px 40px rgba(255,90,120,0.14), 0 2px 6px rgba(0,0,0,0.25) inset;
            display:grid; place-items:center;
            transition: transform var(--transition), box-shadow var(--transition);
        }
        #main-play-button:active{ transform: scale(.98); }
        #main-play-button.playing{
            box-shadow: 0 22px 70px rgba(255,70,110,0.22), 0 0 30px rgba(255,90,130,0.10);
            animation: pulse 1.8s infinite;
        }
        @keyframes pulse{
            0%{ transform: scale(1); }
            50%{ transform: scale(1.04); }
            100%{ transform: scale(1); }
        }

        /* RIGHT: listado centrado verticalmente en la misma franja que el boton */
        .song-list{
            background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.015));
            border-radius:12px;
            padding:18px;
            box-shadow: 0 12px 36px rgba(0,0,0,0.6);
            border:1px solid rgba(255,255,255,0.03);
            max-height:280px; /* compacto y alineado con el bot√≥n */
            overflow:auto;
            align-self:center; /* asegura centrado vertical en la grid */
            margin-bottom: 500px;
        }

        .song-header, .song-item{
            display:grid;
            grid-template-columns: 48px 1fr 140px 64px;
            gap:12px;
            align-items:center;
            padding:10px 6px;
        }
        .song-header{ color:rgba(255,255,255,0.35); font-weight:700; text-transform:uppercase; font-size:0.82rem; border-bottom:1px dashed rgba(255,255,255,0.03); position:sticky; top:0; background:transparent; z-index:3; }
        .song-item{
            border-radius:10px;
            transition: transform var(--transition), box-shadow var(--transition), background var(--transition);
            cursor:pointer;
            margin:6px 0;
            padding:10px 8px;
            background: transparent;
        }
        .song-item:hover{
            transform: translateY(-6px);
            box-shadow: 0 18px 40px rgba(0,0,0,0.6);
            background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
        }
        .song-item .number{ font-weight:800; color:rgba(255,200,220,0.95); }
        .song-item .title{ font-weight:700; color:#ffdfea; font-size:1.02rem; }
        .song-item .artist{ color:var(--muted); font-size:0.95rem; }
        .song-item .duration{ color:var(--muted); text-align:right; font-weight:600; }

        .song-item.active{
            outline: 1px solid rgba(255,90,120,0.12);
            background: linear-gradient(90deg, rgba(255,90,120,0.06), rgba(255,120,150,0.03));
            transform: translateY(-2px) scale(1.002);
            box-shadow: 0 20px 50px rgba(0,0,0,0.6);
        }

        /* Player bar fijo oscuro */
        .player-bar{
            position:fixed;
            left:50%;
            transform:translateX(-50%);
            bottom:22px;
            width: min(980px, calc(100% - 44px));
            height:84px;
            background: linear-gradient(180deg, rgba(20,18,22,0.88), rgba(16,14,18,0.96));
            border-radius:14px;
            display:flex;
            gap:20px;
            align-items:center;
            padding:12px 20px;
            box-shadow: 0 30px 80px rgba(0,0,0,0.6);
            border:1px solid rgba(255,255,255,0.03);
            z-index:999;
            backdrop-filter: blur(6px) saturate(120%);
        }

        .track-info{ display:flex; gap:14px; align-items:center; min-width:260px; }
        .track-info .meta{ display:flex; flex-direction:column; gap:4px; }
        .track-info .title{ font-weight:800; color:#ffdfea; }
        .track-info .artist{ color:var(--muted); font-size:0.95rem; }

        .player-controls{ display:flex; gap:18px; align-items:center; justify-content:center; flex:1; }
        .player-controls button{
            background:transparent; border:none; cursor:pointer; font-size:1.6rem; color:#ffdfea;
            width:56px; height:56px; display:grid; place-items:center; border-radius:12px; transition:all var(--transition);
        }
        .player-controls button:hover{ transform: translateY(-6px); box-shadow: 0 10px 30px rgba(0,0,0,0.6); background: rgba(255,255,255,0.02); }

        #player-play-pause{ width:68px; height:68px; border-radius:999px; font-size:1.6rem;
            background: linear-gradient(180deg, var(--accent), var(--accent-2)); color:white; box-shadow: 0 12px 40px rgba(255,70,110,0.12);
        }
        #player-play-pause.paused{ background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); color:#ffdfea; box-shadow:none; border:1px solid rgba(255,255,255,0.03); }

        .progress{
            height:8px; background: rgba(255,255,255,0.04); border-radius:999px; overflow:hidden; width:100%;
            align-self:center; margin-right:12px;
        }
        .progress > i{ display:block; height:100%; background: linear-gradient(90deg,#ff8aa0,#ff6e87); width:0%; transition: width 360ms linear; }

        .volume-slider{ display:flex; align-items:center; gap:10px; min-width:160px; justify-content:flex-end; color:var(--muted); }
        .volume-slider input[type="range"]{ width:120px; accent-color: #ff6e87; }

        /* Responsive */
        @media (max-width: 980px){
            .container{ grid-template-columns: 1fr; }
            .controls-bar{ height:auto; padding:12px; }
            .playlist-header{ flex-direction:column; align-items:center; text-align:center; gap:12px; padding:18px; }
            .song-list{ max-height:48vh; width:100%; }
        }

        @media (max-width: 520px){
            .player-bar{ height:78px; padding:10px; bottom:12px; width: calc(100% - 28px); }
            #main-play-button{ width:76px; height:76px; }
            .cover-art{ width:160px; height:160px; }
            .song-header, .song-item{ grid-template-columns: 36px 1fr 80px 48px; }
            .playlist-info h1{ font-size:1.6rem; }
        }
    </style>
</head>
<body>

    <audio id="musica-reproductor" loop></audio>
    
    <div class="container">
        <div class="playlist-header">
            <div class="cover-art">
                <img src="image.png" alt="Portada de la Lista Exclusiva" id="cover-image">
            </div>
            <div class="playlist-info">
                <p>LISTA EXCLUSIVA</p>
                <h1>"Mi Mix de Amor"</h1> 
                <p>Hecho para: [Nombre del Amigo/Pareja]</p>
                <div class="details">Hecho por [Tu Nombre] ‚Ä¢ 10 Canciones</div>
            </div>
        </div>

        <div class="center-row">
            <div class="controls-bar">
                <button id="main-play-button">‚ñ∂Ô∏è</button>
            </div>

            <div class="song-list">
                <div class="song-header">
                    <div>#</div>
                    <div>T√çTULO</div>
                    <div class="artist-col">ARTISTA</div>
                    <div>üïí</div>
                </div>

                <div id="song-list-container">
                    </div>
            </div>
        </div>
     </div>

    <div class="player-bar">
        <div class="track-info">
            <div id="current-title-artist">
                <div class="title" id="player-title">Esperando...</div>
                <div class="artist" id="player-artist">Selecciona una canci√≥n</div>
            </div>
        </div>
        
        <div class="player-controls">
            <button id="prev-button">‚èÆÔ∏è</button>
            <button id="player-play-pause">‚ñ∂Ô∏è</button>
            <button id="next-button">‚è≠Ô∏è</button>
        </div>

        <div class="volume-slider">
            <span>üîä</span>
            <input type="range" id="volume-control" min="0" max="1" step="0.01" value="0.7">
        </div>
    </div>

    <script>
        // *****************************************************************
        // 1. DATA: CONFIGURACI√ìN DE LAS CANCIONES POR CLIENTE (LO QUE COBRAS)
        // *****************************************************************

        // ESTE ARRAY ES LO √öNICO QUE CAMBIA EN CADA CLIENTE
        const playlistData = [
            // Canci√≥n 1 reproducir√° el archivo "musica_fondo.mp3"
            { id: 1, title: "Congratulations", artist: "Mac Miller", src: "musica_fondo.mp3", duration: "3:15" },
            { id: 2, title: "That`s is what i like", artist: "Bruno Mars", src: "cancion2.mp3", duration: "4:01" },
            { id: 3, title: "Not you too", artist: "Drake", src: "cancion3.mp3", duration: "2:50" },
            { id: 4, title: "You know how we do it", artist: "Ice Cub", src: "cancion4.mp3", duration: "5:12" },
            { id: 5, title: "Orange SODA", artist: "Baby Keem", src: "cancion5.mp3", duration: "3:30" },
            { id: 6, title: "YOGURCITO REMIX", artist: "Bless", src: "cancion6.mp3", duration: "4:20" },
            { id: 7, title: "Otra noche en Miami", artist: "Bad Bunny", src: "cancion7.mp3", duration: "3:45" },
            { id: 8, title: "Susurros del Coraz√≥n", artist: "Melod√≠a Suave", src: "cancion8.mp3", duration: "4:05" },
            { id: 9, title: "Eres Mi Todo", artist: "Voz Apasionada", src: "cancion9.mp3", duration: "3:55" },
            { id: 10, title: "Hasta el Fin del Mundo", artist: "Amor Infinito", src: "cancion10.mp3", duration: "5:00" },
            // Puedes a√±adir hasta 10 o 20 canciones aqu√≠
        ];

        // *****************************************************************
        // 2. L√ìGICA DEL REPRODUCTOR
        // *****************************************************************

        const audio = document.getElementById('musica-reproductor');
        const songListContainer = document.getElementById('song-list-container');
        const mainPlayButton = document.getElementById('main-play-button');
        const playerPlayPauseButton = document.getElementById('player-play-pause');
        const nextButton = document.getElementById('next-button');
        const prevButton = document.getElementById('prev-button');
        const playerTitle = document.getElementById('player-title');
        const playerArtist = document.getElementById('player-artist');
        const volumeControl = document.getElementById('volume-control');
        
        let currentTrackIndex = 0;

        // --- FUNCIONES PRINCIPALES ---

        // Funci√≥n que renderiza la lista en el HTML
        function renderPlaylist() {
            songListContainer.innerHTML = '';
            playlistData.forEach((song, index) => {
                const item = document.createElement('div');
                item.className = 'song-item';
                item.dataset.index = index;
                item.innerHTML = `
                    <div class="number">${song.id}</div>
                    <div class="title">${song.title}</div>
                    <div class="artist-col artist">${song.artist}</div>
                    <div class="duration">${song.duration}</div>
                `;
                item.addEventListener('click', () => {
                    playTrack(index);
                });
                songListContainer.appendChild(item);
            });
        }

        // Funci√≥n para cargar y reproducir una canci√≥n
        function playTrack(index) {
            currentTrackIndex = index;
            const song = playlistData[index];
            
            // 1. Cargar la fuente de audio
            audio.src = song.src;
            
            // 2. Intentar reproducir (gesti√≥n de autoplay bloqueado)
            audio.play()
                .then(() => {
                    updatePlayerInfo(song);
                    updateControls('pause'); // Mostrar pausa
                    updateActiveItem(index);
                })
                .catch(error => {
                    // Si el navegador bloquea el autoplay, silenciar y mostrar info
                    audio.muted = true; 
                    audio.play(); 
                    updatePlayerInfo(song);
                    updateControls('pause');
                    updateActiveItem(index);
                    console.warn("Autoplay bloqueado. La m√∫sica suena, pero puede que necesite desmutearse si tiene silenciado el audio.");
                });
        }

        // --- FUNCIONES DE ACTUALIZACI√ìN DE UI ---

        function updatePlayerInfo(song) {
            playerTitle.textContent = song.title;
            playerArtist.textContent = song.artist;
            // Actualizar la API de Media Session para el widget
            if ('mediaSession' in navigator) {
                navigator.mediaSession.metadata = new MediaMetadata({
                    title: song.title,
                    artist: song.artist,
                    album: 'Mini-Spotify Personalizado',
                });
            }
        }

        function updateControls(state) {
            const icon = (state === 'pause') ? '‚è∏Ô∏è' : '‚ñ∂Ô∏è';
            mainPlayButton.textContent = icon;
            playerPlayPauseButton.textContent = icon;
        }

        function updateActiveItem(index) {
            document.querySelectorAll('.song-item').forEach(item => {
                item.classList.remove('active');
            });
            const activeItem = document.querySelector(`.song-item[data-index="${index}"]`);
            if (activeItem) {
                activeItem.classList.add('active');
            }
        }

        // --- HANDLERS DE EVENTOS ---

        // Funci√≥n para Pausa/Play global
        function togglePlayPause() {
            if (audio.paused) {
                audio.play();
                updateControls('pause');
            } else {
                audio.pause();
                updateControls('play');
            }
        }

        function playNext() {
            currentTrackIndex = (currentTrackIndex + 1) % playlistData.length;
            playTrack(currentTrackIndex);
        }

        function playPrev() {
            // Retrocede la canci√≥n o salta a la anterior
            currentTrackIndex = (currentTrackIndex - 1 + playlistData.length) % playlistData.length;
            playTrack(currentTrackIndex);
        }

        // Reproducir la siguiente canci√≥n al terminar la actual
        audio.addEventListener('ended', playNext);
        
        // Control de Volumen
        volumeControl.addEventListener('input', (e) => {
            audio.volume = e.target.value;
        });
        
        // Asignar eventos a los botones
        mainPlayButton.addEventListener('click', togglePlayPause);
        playerPlayPauseButton.addEventListener('click', togglePlayPause);
        nextButton.addEventListener('click', playNext);
        prevButton.addEventListener('click', playPrev);
        
        // Inicializar la lista al cargar la p√°gina
        document.addEventListener('DOMContentLoaded', () => {
            renderPlaylist();
            // Cargar la primera canci√≥n sin reproducirla inicialmente
            if (playlistData.length > 0) {
                 audio.src = playlistData[0].src;
                 updatePlayerInfo(playlistData[0]);
                 updateActiveItem(0);
                 audio.volume = volumeControl.value; // Inicializar volumen
            }
        });

        // Configuraci√≥n de la Media Session para los controles del sistema
        if ('mediaSession' in navigator) {
            navigator.mediaSession.setActionHandler('play', togglePlayPause);
            navigator.mediaSession.setActionHandler('pause', togglePlayPause);
            navigator.mediaSession.setActionHandler('nexttrack', playNext);
            navigator.mediaSession.setActionHandler('previoustrack', playPrev);
        }

    </script>
</body>

</html>


